<clickhouse>
  <query_log>
    <database>system</database>
    <table>query_log</table>
    <flush_interval_milliseconds>1500</flush_interval_milliseconds>
    <max_size_rows>1048576</max_size_rows>
    <reserved_size_rows>8192</reserved_size_rows>
    <buffer_size_rows_flush_threshold>524288</buffer_size_rows_flush_threshold>
    <flush_on_crash>false</flush_on_crash>
  </query_log>
 
  <metric_log>
    <database>system</database>
    <table>metric_log</table>
    <flush_interval_milliseconds>1500</flush_interval_milliseconds>
    <collect_interval_milliseconds>1000</collect_interval_milliseconds>
    <max_size_rows>1048576</max_size_rows>
    <reserved_size_rows>8192</reserved_size_rows>
    <buffer_size_rows_flush_threshold>524288</buffer_size_rows_flush_threshold>
    <flush_on_crash>false</flush_on_crash>
  </metric_log>
 
  <query_metric_log>
    <database>system</database>
    <table>query_metric_log</table>
    <flush_interval_milliseconds>1500</flush_interval_milliseconds>
    <collect_interval_milliseconds>1000</collect_interval_milliseconds>
    <max_size_rows>1048576</max_size_rows>
    <reserved_size_rows>8192</reserved_size_rows>
    <buffer_size_rows_flush_threshold>524288</buffer_size_rows_flush_threshold>
    <flush_on_crash>false</flush_on_crash>
  </query_metric_log>
 
  <part_log>
    <database>system</database>
    <table>part_log</table>
    <partition_by>toMonday(event_date)</partition_by>
    <flush_interval_milliseconds>1500</flush_interval_milliseconds>
    <max_size_rows>1048576</max_size_rows>
    <reserved_size_rows>8192</reserved_size_rows>
    <buffer_size_rows_flush_threshold>524288</buffer_size_rows_flush_threshold>
    <flush_on_crash>false</flush_on_crash>
  </part_log>
 
  <error_log>
    <database>system</database>
    <table>error_log</table>
    <flush_interval_milliseconds>1500</flush_interval_milliseconds>
    <collect_interval_milliseconds>1000</collect_interval_milliseconds>
    <max_size_rows>1048576</max_size_rows>
    <reserved_size_rows>8192</reserved_size_rows>
    <buffer_size_rows_flush_threshold>524288</buffer_size_rows_flush_threshold>
    <flush_on_crash>false</flush_on_crash>
  </error_log>

  <!-- Add to ClickHouse config.xml -->
  <opentelemetry>
      <trace_processors>
          <jaeger>
              <endpoint>http://localhost:14268/api/traces</endpoint>
          </jaeger>
      </trace_processors>
  </opentelemetry>

  <!-- Enable span logging -->
  <opentelemetry_span_log>
      <database>system</database>
      <table>opentelemetry_span_log</table>
      <flush_interval_milliseconds>1500</flush_interval_milliseconds>
  </opentelemetry_span_log>
</clickhouse>
